# Вступ до REST API

## 1. Вступ: Що таке API?
Перш ніж розглянути REST API, потрібно зрозуміти, що таке **API (Application Programming Interface)**.

**API** — це інтерфейс, через який одна програма може взаємодіяти з іншою.

### Приклад API у реальному житті
Уявімо, що ви прийшли до ресторану. Ви — клієнт (frontend), кухня — сервер (backend), а офіціант — API. Ви робите замовлення (HTTP-запит), офіціант передає його на кухню (сервер), кухня готує страву і офіціант приносить її вам (HTTP-відповідь).

## 2. Що таке REST API?
**REST API (Representational State Transfer API)** — це спосіб організації API, який використовує HTTP для взаємодії між клієнтом і сервером.

## 3. Основні принципи REST API
Щоб API вважався RESTful, він має відповідати таким принципам:

1. **Клієнт-Серверна архітектура**  
   - Клієнт (наприклад, браузер, мобільний додаток) запитує дані у сервера.
   - Сервер обробляє запит і повертає відповідь.

2. **Відсутність стану (Stateless)**  
   - Кожен запит має містити всю необхідну інформацію, сервер не зберігає стан клієнта між запитами.

3. **Єдиний інтерфейс**  
   - Всі ресурси доступні через єдині URL-адреси та HTTP-методи.

4. **Кешування**  
   - Відповіді можуть кешуватися для швидшої роботи та зменшення навантаження на сервер.

5. **Шарованість (Layered System)**  
   - API може складатися з кількох рівнів (балансувальники навантаження, кеші тощо).

## 4. HTTP-методи в REST API
REST API використовує стандартні **HTTP-методи** для взаємодії з ресурсами.

| HTTP Метод | Опис | Приклад запиту |
|------------|------|---------------|
| **GET** | Отримати ресурс | `GET /users/1` |
| **POST** | Створити новий ресурс | `POST /users` |
| **PUT** | Оновити весь ресурс | `PUT /users/1` |
| **PATCH** | Частково оновити ресурс | `PATCH /users/1` |
| **DELETE** | Видалити ресурс | `DELETE /users/1` |

## 5. Структура URL у REST API
### Приклади URL для роботи з користувачами
- `GET /users` — отримати всіх користувачів
- `GET /users/1` — отримати користувача з ID 1
- `POST /users` — створити нового користувача
- `PUT /users/1` — оновити дані користувача
- `DELETE /users/1` — видалити користувача

### Фільтрація, сортування, пагінація
- `GET /users?role=admin` — отримати всіх адміністраторів
- `GET /users?sort=desc` — отримати користувачів у порядку спадання
- `GET /users?page=2&limit=10` — отримати 10 користувачів з другої сторінки

## 6. Аутентифікація в REST API
Щоб обмежити доступ до API, використовують **аутентифікацію**.

### 6.1. Basic Authentication
Передача `username:password` у заголовку:
```
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
```

### 6.2. Bearer Token (JWT)
Після входу клієнт отримує токен і передає його в кожному запиті:
```
Authorization: Bearer <JWT_TOKEN>
```

## 7. Коди відповідей HTTP
| Код | Опис |
|-----|------|
| `200 OK` | Успішний запит |
| `201 Created` | Ресурс створено |
| `204 No Content` | Видалено без відповіді |
| `400 Bad Request` | Некоректний запит |
| `401 Unauthorized` | Необхідна аутентифікація |
| `403 Forbidden` | Доступ заборонено |
| `404 Not Found` | Ресурс не знайдено |
| `500 Internal Server Error` | Помилка сервера |

## 8. Версіонування REST API
Щоб не ламати старі клієнти, використовують **версії API**.

1. У URL:
   ```
   GET /v1/users
   GET /v2/users
   ```
2. Через заголовки:
   ```
   Accept: application/vnd.example.v1+json
   ```

## 9. REST API vs SOAP API
| Параметр | REST API | SOAP API |
|----------|---------|---------|
| Протокол | HTTP | HTTP, SMTP, TCP |
| Формат даних | JSON, XML | XML |
| Легкість використання | Простий | Складний |
| Швидкість | Висока | Низька |

## 10. Висновок
- REST API — це стандартний підхід до створення веб-сервісів.
- Використовує HTTP-методи для CRUD-операцій.
- Дотримується принципів клієнт-серверної архітектури.
- Використовує JSON для обміну даними.
- Дозволяє легко інтегрувати різні системи.